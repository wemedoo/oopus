@using sReportsV2.Common.Constants;

@{
    string action = ViewContext.RouteData.Values["Action"].ToString();
    string controller = ViewContext.RouteData.Values["Controller"].ToString();
    var userCookieData = ViewBag.UserCookieData;
}
<div class="sidebar" id="sidebar">
    <ul class="nav flex-column">
        <li class="nav-item @(action.Equals("Index") && controller.Equals("Home") ? "active" : "")">
            <a class="nav-link d-flex nav-link-remove-padding" href="~/Home/Index">
                <div class="sidebar-img">
                    <img alt="" src="/css/img/icons/@(action.Equals("Index") && controller.Equals("Home") ? "overview_black.svg" : "overview_silver.svg")">
                </div>
                <div class="nav-text"> @sReportsV2.Cache.Resources.TextLanguage.Overview </div>
            </a>
        </li>
        @if (userCookieData != null && userCookieData.UserHasPermission(PermissionNames.View, ModuleNames.Administration))
        {
            <li class="nav-item @((action.Equals(EndpointConstants.GetAll) || action.Equals(EndpointConstants.Create) || action.Equals(EndpointConstants.Edit) || action.Equals(EndpointConstants.View)) && controller.Equals("Organization") ? "active" : "")">
                <a class="nav-link d-flex nav-link-remove-padding" href="~/Organization/GetAll">
                    <div class="sidebar-img">
                        <img alt="" src="/css/img/icons/@((action.Equals(EndpointConstants.GetAll) || action.Equals(EndpointConstants.Create) || action.Equals(EndpointConstants.Edit) || action.Equals(EndpointConstants.View)) && controller.Equals("Organization") ? "organization_black.svg" : "organization_silver.svg")">
                    </div>
                    <div class="nav-text"> @sReportsV2.Cache.Resources.TextLanguage.Organizations </div>
                </a>
            </li>
        }
        @if (userCookieData != null && userCookieData.UserHasPermission(PermissionNames.View, ModuleNames.Administration))
        {
            <li class="nav-item @((action.Equals(EndpointConstants.GetAll) || action.Equals(EndpointConstants.Create) || action.Equals(EndpointConstants.Edit) || action.Equals(EndpointConstants.View) ) && controller.Equals("RoleAdministration") ? "active" : "")">
                <a class="nav-link d-flex nav-link-remove-padding" href="~/RoleAdministration/GetAll">
                    <div class="sidebar-img sidebar-i">
                        <i class="fas fa-universal-access @((action.Equals(EndpointConstants.GetAll) || action.Equals(EndpointConstants.Create) || action.Equals(EndpointConstants.Edit) || action.Equals(EndpointConstants.View)) && controller.Equals("RoleAdministration") ? "active-item" : "")"></i>
                    </div>
                    <div class="nav-text"> @sReportsV2.Cache.Resources.TextLanguage.Role_Administration </div>
                </a>
            </li>
        }
        @if (userCookieData != null && userCookieData.UserHasPermission(PermissionNames.View, ModuleNames.Administration))
        {
            <li class="nav-item @((action.Equals(EndpointConstants.GetAll) || action.Equals(EndpointConstants.Create) || action.Equals(EndpointConstants.Edit) || action.Equals(EndpointConstants.View) || action.Equals("UserProfile")) && controller.Equals("UserAdministration") ? "active" : "")">
                <a class="nav-link d-flex nav-link-remove-padding" href="~/UserAdministration/GetAll">
                    <div class="sidebar-img">
                        <img alt="" src="/css/img/icons/@((action.Equals(EndpointConstants.GetAll) || action.Equals(EndpointConstants.Create) || action.Equals(EndpointConstants.Edit) || action.Equals(EndpointConstants.View) || action.Equals("UserProfile")) && controller.Equals("UserAdministration") ? "user_administration_black.svg" : "user_administration_silver.svg")">
                    </div>
                    <div class="nav-text"> @sReportsV2.Cache.Resources.TextLanguage.User_Administration </div>
                </a>
            </li>
        }
        @if (userCookieData != null && userCookieData.UserHasPermission(PermissionNames.View, ModuleNames.ProjectManagement))
        {
            <li class="nav-item @((action.Equals(EndpointConstants.GetAll) || action.Equals(EndpointConstants.Create) || action.Equals(EndpointConstants.Edit) || action.Equals(EndpointConstants.View)) && controller.Equals("ProjectManagement") || (action.Equals("GetAllByProject") || action.Equals("CreateForProject") || action.Equals("EditForProject")) && controller.Equals("FormInstance") ? "active" : "")">
                <a class="nav-link d-flex nav-link-remove-padding" href="~/ProjectManagement/GetAll">
                    <div class="sidebar-img">
                        <img alt="" src="/css/img/icons/@((action.Equals(EndpointConstants.GetAll) || action.Equals(EndpointConstants.Create) || action.Equals(EndpointConstants.Edit) || action.Equals(EndpointConstants.View)) && controller.Equals("ProjectManagement") || (action.Equals("GetAllByProject") || action.Equals("CreateForProject") || action.Equals("EditForProject")) && controller.Equals("FormInstance") ? "projects_management_black.svg" : "projects_management_silver.svg")">
                    </div>
                    <div class="nav-text"> @sReportsV2.Cache.Resources.TextLanguage.ProjectsManagement </div>
                </a>
            </li>
        }
        @if (userCookieData != null && userCookieData.UserHasPermission(PermissionNames.View, ModuleNames.ProjectManagement))
        {
            <li class="nav-item @((action.Equals("GetAllUserProjects") || action.Equals("ProjectForms")) && controller.Equals("ProjectManagement") || (action.Equals("GetAllByUserProject") || action.Equals("CreateForUserProject") || action.Equals("EditForUserProject")) && controller.Equals("FormInstance") ? "active" : "")">
                <a class="nav-link d-flex nav-link-remove-padding" href="~/ProjectManagement/GetAllUserProjects">
                    <div class="sidebar-img">
                        <img alt="" src="/css/img/icons/@((action.Equals("GetAllUserProjects") || action.Equals("ProjectForms")) && controller.Equals("ProjectManagement") || (action.Equals("GetAllByUserProject") || action.Equals("CreateForUserProject") || action.Equals("EditForUserProject")) && controller.Equals("FormInstance") ? "projects_black.svg" : "projects_silver.svg")">
                    </div>
                    <div class="nav-text"> @sReportsV2.Cache.Resources.TextLanguage.Projects </div>
                </a>
            </li>
        }
        @if (userCookieData != null && userCookieData.UserHasPermission(PermissionNames.View, ModuleNames.Thesaurus))
        {
            <li class="nav-item @((action.Equals(EndpointConstants.GetAll) || action.Equals(EndpointConstants.Edit) || action.Equals(EndpointConstants.View) || action.Equals(EndpointConstants.Create) || action.Equals("GetReviewTree")) && controller.Equals("ThesaurusEntry") ? "active" : "")">
                <a class="nav-link d-flex nav-link-remove-padding" href="~/ThesaurusEntry/GetAll">
                    <div class="sidebar-img">
                        <img alt="" src="/css/img/icons/@((action.Equals(EndpointConstants.GetAll) || action.Equals(EndpointConstants.Edit) || action.Equals(EndpointConstants.View) || action.Equals(EndpointConstants.Create) || action.Equals("GetReviewTree")) && controller.Equals("ThesaurusEntry") ? "thesaurus_black.svg" : "thesaurus_silver.svg")">
                    </div>
                    <div class="nav-text"> @sReportsV2.Cache.Resources.TextLanguage.Thesaurus </div>
                </a>
            </li>
        }
        @if (userCookieData != null && userCookieData.UserHasPermission(PermissionNames.View, ModuleNames.Designer))
        {
            <li class="nav-item @((action.Equals(EndpointConstants.GetAll) || action.Equals(EndpointConstants.Edit) || action.Equals(EndpointConstants.View) || action.Equals(EndpointConstants.Create)) && controller.Equals("Form") ? "active" : "")">
                <a class="nav-link d-flex nav-link-remove-padding" href="~/Form/GetAll">
                    <div class="sidebar-img">
                        <img alt="" src="/css/img/icons/@((action.Equals(EndpointConstants.GetAll) || action.Equals(EndpointConstants.Edit) || action.Equals(EndpointConstants.View) || action.Equals(EndpointConstants.Create)) && controller.Equals("Form") ? "designer_black.svg" : "designer_silver.svg")">
                    </div>
                    <div class="nav-text"> @sReportsV2.Cache.Resources.TextLanguage.Designer </div>
                </a>
            </li>
        }
        @if (userCookieData != null && userCookieData.UserHasPermission(PermissionNames.View, ModuleNames.ClinicalPathway))
        {
            <li class="nav-item @((action.Equals(EndpointConstants.GetAll) || action.Equals(EndpointConstants.Create) || action.Equals(EndpointConstants.Edit)) && controller.Equals("DigitalGuideline") ? "active" : "")">
                <a class="nav-link d-flex nav-link-remove-padding" href="~/DigitalGuideline/GetAll">
                    <div class="sidebar-img sidebar-i">
                        <i class="fas fa-book @((action.Equals(EndpointConstants.GetAll) || action.Equals(EndpointConstants.Create) || action.Equals(EndpointConstants.Edit)) && controller.Equals("DigitalGuideline") ? "active-item" : "")"></i>
                    </div>
                    <div class="nav-text"> @sReportsV2.Cache.Resources.TextLanguage.ClinicalPathwayBuilder </div>
                </a>
            </li>
        }
        @if (userCookieData != null && userCookieData.UserHasPermission(PermissionNames.View, ModuleNames.ClinicalOncology))
        {
            <li class="nav-item @((action.Equals("CreateNewSchema") || action.Equals("BrowseSchemas") || action.Equals("EditSchema") || action.Equals("PreviewSchema")) && controller.Equals("SmartOncology") ? "active" : "")">
                <a class="nav-link d-flex nav-link-remove-padding" href="~/SmartOncology/BrowseSchemas">
                    <div class="sidebar-img">
                        <img alt="" src="/css/open-oncology/images/icons/@((action.Equals("CreateNewSchema") || action.Equals("BrowseSchemas") || action.Equals("EditSchema") || action.Equals("PreviewSchema")) && controller.Equals("SmartOncology") ? "che_onc_compendium_black.svg" : "che_onc_compendium.svg")">
                    </div>
                    <div class="nav-text"> @sReportsV2.Cache.Resources.TextLanguage.Clinical_Oncology - @sReportsV2.Cache.Resources.TextLanguage.HemOnc_Compendium </div>
                </a>
            </li>
        }
        @if (userCookieData != null && userCookieData.UserHasPermission(PermissionNames.View, ModuleNames.ClinicalOncology))
        {
            <li class="nav-item @((action.Equals("BasicPatientDataOncology") || action.Equals("PatientOncologyDiseaseHistory")) && controller.Equals("SmartOncology") ? "active" : "")">
                <a class="nav-link d-flex nav-link-remove-padding" href="~/SmartOncology/BasicPatientDataOncology">
                    <div class="sidebar-img">
                        <img alt="" src="/css/open-oncology/images/icons/@((action.Equals("BasicPatientDataOncology") || action.Equals("PatientOncologyDiseaseHistory")) && controller.Equals("SmartOncology") ? "basic_patient_data_black.svg" : "basic_patient_data.svg")">
                    </div>
                    <div class="nav-text"> @sReportsV2.Cache.Resources.TextLanguage.Clinical_Oncology - @sReportsV2.Cache.Resources.TextLanguage.Clinical_Oncology_Patient_Management </div>
                </a>
            </li>
        }
        @if (userCookieData != null && userCookieData.UserHasPermission(PermissionNames.View, ModuleNames.ClinicalOncology))
        {
            <li class="nav-item @(action.Equals("ProgressNote") && controller.Equals("SmartOncology") ? "active" : "")">
                <a class="nav-link d-flex nav-link-remove-padding" href="~/SmartOncology/ProgressNote">
                    <div class="sidebar-img">
                        <img alt="" src="/css/open-oncology/images/icons/@(action.Equals("ProgressNote") && controller.Equals("SmartOncology") ? "progress_note_black.svg" : "progress_note.svg")">
                    </div>
                    <div class="nav-text"> @sReportsV2.Cache.Resources.TextLanguage.Clinical_Oncology - @sReportsV2.Cache.Resources.TextLanguage.Chemotherapy_Prescription_Progress_Note </div>
                </a>
            </li>
        }
        @if (userCookieData != null && userCookieData.UserHasPermission(PermissionNames.View, ModuleNames.Patients))
        {
            <li class="nav-item @((action.Equals(EndpointConstants.GetAll) || action.Equals(EndpointConstants.Create) || action.Equals(EndpointConstants.Edit) || action.Equals(EndpointConstants.View) || action.Equals("EditPatientInfo") || action.Equals("ViewPatientInfo") || action.Equals("ViewPatientEncounters") || action.Equals("EditPatientEncounters")) && controller.Equals("Patient") ? "active" : "")">
                <a class="nav-link d-flex nav-link-remove-padding" href="~/Patient/GetAll">
                    <div class="sidebar-img">
                        <img alt="" src="/css/img/icons/@((action.Equals(EndpointConstants.GetAll) || action.Equals(EndpointConstants.Create) || action.Equals(EndpointConstants.Edit) || action.Equals(EndpointConstants.View) || action.Equals("EditPatientInfo") || action.Equals("ViewPatientInfo") || action.Equals("ViewPatientEncounters") || action.Equals("EditPatientEncounters")) && controller.Equals("Patient") ? "patients_black.svg" : "patients_silver.svg")">
                    </div>
                    <div class="nav-text"> @sReportsV2.Cache.Resources.TextLanguage.Patients </div>
                </a>
            </li>
        }

        @if (userCookieData != null && userCookieData.UserHasPermission(PermissionNames.ViewEncounter, ModuleNames.Patients))
        {
            <li class="nav-item @((action.Equals(EndpointConstants.GetAll) || action.Equals(EndpointConstants.Create) || action.Equals(EndpointConstants.Edit)) && controller.Equals("Encounter") ? "active" : "")">
                <a class="nav-link d-flex nav-link-remove-padding" href="~/Encounter/GetAll">
                    <div class="sidebar-img">
                        <img alt="" src="/css/img/icons/@((action.Equals(EndpointConstants.GetAll) || action.Equals(EndpointConstants.Create) || action.Equals(EndpointConstants.Edit)) && controller.Equals("Encounter") ? "encounter_black.svg" : "encounter_silver.svg")">
                    </div>
                    <div class="nav-text"> @sReportsV2.Cache.Resources.TextLanguage.Encounters </div>
                </a>
            </li>
        }

        @if (userCookieData != null && userCookieData.UserHasPermission(PermissionNames.View, ModuleNames.Engine))
        {
            <li class="nav-item @(((action.Equals(EndpointConstants.Edit) || action.Equals(EndpointConstants.Create) || action.Equals("GetAllByFormThesaurus") || action.Equals("GetAllFormDefinitions") || action.Equals(EndpointConstants.View)) && controller.Equals("FormInstance")) ? "active" : "")">
                <a class="nav-link d-flex nav-link-remove-padding" href="~/FormInstance/GetAllFormDefinitions">
                    <div class="sidebar-img">
                        <img alt="" src="/css/img/icons/@(((action.Equals(EndpointConstants.Edit) || action.Equals(EndpointConstants.Create) || action.Equals("GetAllByFormThesaurus") || action.Equals("GetAllFormDefinitions") || action.Equals(EndpointConstants.View)) && controller.Equals("FormInstance")) ? "engine_black.svg" : "engine_silver.svg")">
                    </div>
                    <div class="nav-text"> @sReportsV2.Cache.Resources.TextLanguage.DataCaptureEngine </div>
                </a>
            </li>
        }
        @if (userCookieData != null && userCookieData.UserHasPermission(PermissionNames.View, ModuleNames.Simulator))
        {
            <li class="nav-item @((action.Equals(EndpointConstants.GetAll)&& controller.Equals("FormDistribution") || (action.Equals("GetByThesaurusId")&& controller.Equals("FormDistribution"))) ? "active" : "")">
                <a class="nav-link d-flex nav-link-remove-padding" href="~/FormDistribution/GetAll">
                    <div class="sidebar-img">
                        <img alt="" src="/css/img/icons/@((action.Equals(EndpointConstants.GetAll) && controller.Equals("FormDistribution") || (action.Equals("GetByThesaurusId")&& controller.Equals("FormDistribution"))) ? "simulator_black.svg" : "simulator_silver.svg")">
                    </div>
                    <div class="nav-text"> @sReportsV2.Cache.Resources.TextLanguage.Simulator </div>
                </a>
            </li>
        }
        @if (userCookieData != null && userCookieData.UserHasPermission(PermissionNames.View, ModuleNames.CodeSet))
        {
            <li class="nav-item @((action.Equals(EndpointConstants.GetAll) && controller.Equals("CodeSet") || (action.Equals(EndpointConstants.GetAll) || action.Equals(EndpointConstants.Edit) || action.Equals(EndpointConstants.Create) || action.Equals("ViewCodes")) && controller.Equals("Code")) ? "active" : "")">
                <a class="nav-link d-flex nav-link-remove-padding" href="~/CodeSet/GetAll">
                    <div class="sidebar-img">
                        <img alt="" src="/css/img/icons/@((action.Equals(EndpointConstants.GetAll) && controller.Equals("CodeSet") || (action.Equals(EndpointConstants.GetAll) || action.Equals(EndpointConstants.Edit) || action.Equals(EndpointConstants.Create) || action.Equals("ViewCodes")) && controller.Equals("Code")) ? "code_managment_black.svg" : "code_managment_silver.svg")">
                    </div>
                    <div class="nav-text"> Code Value Management </div>
                </a>
            </li>
        }
    </ul>
</div>
